<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:rich="http://richfaces.org/rich" xmlns:a4j="http://richfaces.org/a4j">
<ui:composition template="/template.xhtml">
	<ui:define name="corpo">
		<a4j:form>
			<rich:panel header="Novo Livro">	
				<rich:messages />
				<h:panelGrid id="grid" columns="4" width="100%">
					<h:outputText value="Nome: " />
					<h:inputText required="true" requiredMessage="O Campo 'Nome do Livro' e obrigatorio." style="width:270px" value="#{livroBean.livro.nome}" />
					<h:outputText value="Editora: " />
					<h:inputText required="true" requiredMessage="O Campo 'Editora' e obrigatorio." value="#{livroBean.livro.editora}" style="width:270px" />
					<h:outputText value="Autor: " />
					<h:inputText required="true" 
						requiredMessage="O Campo 'Autor' e obrigatorio." 
						value="#{livroBean.livro.autor}" />
					<h:outputText value="ISBN: " />
					<h:inputText value="#{livroBean.livro.isbn}" />
					<h:outputText value="Origem: " />
					<h:inputText value="#{livroBean.livro.origem}" />
					<h:outputText value="Ano: " />
					<h:inputText maxlength="4" 
						style="width:30px"
						value="#{livroBean.livro.ano}" />
					<h:outputText value="Edicao: " />
					<h:inputText maxlength="3" 
						style="width:30px"
					value="#{livroBean.livro.edicao}" />
					<h:outputText value="Nro. Paginas: " />
					<h:inputText converterMessage="O Valor do Campo 'Nro. Paginas' deve ser um numero." required="true" requiredMessage="O Campo 'Nro. Paginas' e obrigatorio." maxlength="4" style="width:30px" value="#{livroBean.livro.nroPaginas}" />
					<h:outputText value="Quantidade: " />
					<h:inputText converterMessage="O Valor do Campo 'Quantidade' deve ser um numero." 
						required="true" 
						requiredMessage="O Campo 'Quantidade' e obrigatorio." 
						maxlength="3" 
						style="width:30px"
						value="#{livroBean.livro.qtdDispLocacao}" />
					<h:outputText value="Imagem: " />
					<rich:fileUpload required="true" 
						requiredMessage="Selecione uma imagem para capa do livro."  id="upload" 
						listWidth="300px" listHeight="60px"
						fileUploadListener="#{livroBean.uploadFile}" 
						allowFlash="true"
						clearControlLabel="Deletar" 
						clearAllControlLabel="Deletar Todos"
						addControlLabel="Adicionar Imagem"
						acceptedTypes="jpg,bmp,png,jpeg" 
						alt="Enviar imagem do Livro"
						doneLabel="Enviado" 
						maxFilesQuantity="1"
						progressLabel="Enviando..." 
						uploadControlLabel="Enviar"
						ajaxSingle="true" 
						immediateUpload="false" />
				</h:panelGrid>
				<h:panelGroup>
					<h:panelGrid columns="2">
						<a4j:commandButton value="Adicionar"
							style="width:100px;height:40px"
							action="#{livroBean.save}" reRender="grid" />
						<a4j:commandButton value="Limpar" style="width:100px;height:40px" />
					</h:panelGrid>
				</h:panelGroup>
			</rich:panel>
		</a4j:form>
	</ui:define>
</ui:composition>
</html>